

<div id="page-title">
	<h2>
		ID:		<strong>{{ plan["id"] }}</strong>
		Plan:	<strong>{{ plan["name"] }}</strong>
	</h2>
	<a (click)="addVersion()">
		<mat-icon>add</mat-icon>
	</a>
</div>
<div id="page-body">
	<nav id="page-title-2">
		<div>
			<h3>
				Plan Update
			</h3>
		</div>
		<div *ngIf="
			JSON.stringify(this.loadedPlan) === JSON.stringify(this.plan);
			 	else changed
		">
			<a style="
				background-color: floralwhite; color: gainsboro; cursor: not-allowed
			">
				Save
			</a>
			<a [routerLink]="['/plan', 's']">
				Back
			</a>
		</div>
		<ng-template #changed>
			<div>
				<a id="changed" (click)="save()"> Save </a>
				<a [routerLink]="['/plan', 's']"> Cancel </a>
			</div>
		</ng-template>
	</nav>
	<div style="margin: .5rem; ">
		<h4>
			<label for="editPlan-name">
				Plan Name
			</label>
		</h4>
		<input type="text" id="editPlan-name"
					 [(ngModel)]="plan['name']" placeholder="name"
		>
	</div>
	<div style="margin: .5rem; ">
		<h4><label> Schedule Versions </label></h4>
		<ul class="pgc">
			<li *ngFor="
					let version of plan['versions'] | orderBy:'desc':'id'
			" [class.selected]="version.id === versionId">
				<a [routerLink]="['/plan', plan['id'], 'version', 's', version.id]"
					 routerLinkActive="active"
				>
					<div class="badge">
						{{version.id}}
					</div>
					<div>
						{{version.labels}}
					</div>
				</a>
				<div style="margin-left: .25rem">
					<a [routerLink]="['/plan', plan['id'], 'version', version.id]">
						<button><mat-icon>edit</mat-icon></button>
					</a>
				</div>
				<div style="margin-left: .25rem">
					<a (click)="rmVer(version.id)">
						<button><mat-icon>delete</mat-icon></button>
					</a>
				</div>
			</li>
		</ul>
	</div>
	<hr>
	<div>
		
		<router-outlet></router-outlet>
	
	</div>
</div>
