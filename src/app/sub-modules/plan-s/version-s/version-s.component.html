

<div id="wj-title" class="fr bg-d">
	<h2>ID: {{plan["id"]}} &nbsp;&nbsp;&nbsp; Plan: {{plan["name"]}}</h2>
	<a (click)="addVersion()"><mat-icon>add</mat-icon></a>
</div>
<div class="wj-body">
	<div class="fr">
		<div style="width: 90%;"><h3>Schedule Versions</h3></div>
		<div style="width: 10%;" class="fr" *ngIf="JSON.stringify(this.loadedPlan) === JSON.stringify(this.plan); else changed"><a class="wj-disabled"><button>Save</button></a><a [routerLink]="['/plan', 's']"><button>Back</button></a></div>
		<ng-template #changed><div style="width: 10%;" class="fr"><a (click)="save()"><button>Save</button></a><a [routerLink]="['/plan', 's']"><button>Cancel</button></a></div></ng-template>
	</div>
	
	<hr>
	
	<div class="fc wj-body">
		<ul class="fc wj" style="padding-inline-start: 0;">
			<li *ngFor="let version of plan['versions'] | orderBy:'desc':'id'" [class.selected]="version.id === versionId">
				<a [routerLink]="['/plan',plan['id'],'version','s',version.id]" routerLinkActive="active"><div class="badge bg-m f c">{{version.id}}</div><div>{{version.labels}}</div></a>
				<div>
					<a [routerLink]="['/plan', plan['id'], 'version', version.id]"><button><mat-icon>schedule</mat-icon></button></a>
				</div>
				<div>
					<a (click)="rmVer(version.id)"><button><mat-icon>delete</mat-icon></button></a>
				</div>
			</li>
		</ul>
	</div>
	
	<hr>
	
	<div class="fr wj-body">
		<div style="width: 10%;"><h4><label for="editPlan-name">Plan Name</label></h4></div>
		<div style="width: 90%;"><input type="text" id="editPlan-name" [(ngModel)]="plan['name']" placeholder="name"></div>
	</div>
	<hr>
	<div><router-outlet></router-outlet></div>
</div>
