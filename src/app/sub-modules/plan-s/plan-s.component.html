

<div id="wj-t" class="fr bg-d wj-b">
	<h2>Plan Hub</h2>
</div>
<div class="wj-b">
	<div class="fr">
		<h3 id="wj-t2">Plans</h3><div class="fr" *ngIf="allowAdd; else disabled">
			<a title='Add a new plan using the "latest" plan as a template.' (click)="addPlan()">
				<mat-icon>add</mat-icon>
			</a>
		</div>
		<ng-template #disabled>
			<a style="pointer-events: none;" title='
				(DISABLED) Add a new plan using the "latest" plan as a template.
			'><mat-icon class="wj-d">add</mat-icon></a>
		</ng-template>
		
	</div>
	<hr style="margin: 0;">
	<ul class="fc wj wj-b">
		<li [class.selected]="plan.id === planId" *ngFor="let plan of plansBy()">
			<a [routerLink]="['/plan', 's', plan.id]"	routerLinkActive="active">
				<div class="badge bg-m f c">{{plan.id}}</div><div>{{plan.name}}</div>
			</a>
			<div>
				<a title='Open a new schedule using the "latest" version of this plan.'
					 routerLinkActive="active"
					 [routerLink]="['/plan', plan.id, 'version', 'latest']"
				><button><mat-icon>schedule</mat-icon></button></a>
			</div>
			<div>
				<a title="Manage/Update this plan's versions." routerLinkActive="active"
					 [routerLink]="['/plan', plan.id, 'version', 's']"
				><button><mat-icon>edit</mat-icon></button></a>
			</div>
			<div>
				<a title='Remove this plan and all associated versions/schedules.'
					 (click)="rmPlan(plan.id)"
				><button><mat-icon>delete</mat-icon></button></a>
			</div>
		</li>
	</ul>
	<hr>
	<div><router-outlet></router-outlet></div>
</div>
