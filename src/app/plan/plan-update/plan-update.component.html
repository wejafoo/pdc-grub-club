

<div id="page-title">
	<h2> ID:<strong> {{updatePlan.id}} </strong>Plan:<strong> {{updatePlan.name}} </strong></h2>
	<a (click)="addEvent()"><mat-icon> add </mat-icon></a>
</div>
<div id="page-body">
	<nav id="page-title-2">
		<div><h3> Plan Update </h3></div>
		<div *ngIf="JSON.stringify( this.plan ) === JSON.stringify( this.updatePlan );else changes_made">
			<a style="background-color: floralwhite; color: gainsboro ">
				Save
			</a>
			<a (click)="toPlan()">
				Back
			</a>
		</div>
		<ng-template #changes_made>
			<div>
				<a style="background-color: #425; color: white; " (click)="save()">
					Save
				</a>
				<a (click)="cancel()">
					Cancel
				</a>
			</div>
		</ng-template>
	</nav>
	<ul class="plans">
		<li *ngFor="let event of updatePlan.events" [class.selected]="event.id === eventId">
			<a routerLinkActive="active" routerLink="/plan/{{planId}}/update/event/{{event.id}}">
				<div class="badge"	> {{event.id}}		</div>
				<div				> {{event.name}}	</div>
			</a>
			<div><button (click)="scheduleEvent(event.id)"	><mat-icon> schedule	</mat-icon></button></div>
			<div><button (click)="updateEvent(event.id)"	><mat-icon> edit		</mat-icon></button></div>
			<div><button (click)="removeEvent(event.id)"	><mat-icon> delete		</mat-icon></button></div>
		</li>
	</ul>
	<div style="margin: .5rem; ">
		<h3><label for="editPlan-name"> Plan name: </label><input type="text" id="editPlan-name" [(ngModel)]="updatePlan.name" placeholder="name"/></h3>
	</div>
	
	<hr/>
	<div>
		<app-event-detail [updatePlan]="updatePlan" [planId]="planId" [eventId]="eventId"></app-event-detail>
	</div>
</div>
