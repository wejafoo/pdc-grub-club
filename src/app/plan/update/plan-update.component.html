

<div id="page-title">
	<h2>
		ID:		<strong> {{ plan["id"] }} </strong>
		Plan:	<strong> {{plan["name"]}} </strong>
	</h2>
	<a (click)="addVersion()"><mat-icon> add </mat-icon></a>
</div>
<div id="page-body">
	<nav id="page-title-2">
		<div><h3> Plan Update </h3></div>
		<div *ngIf="JSON.stringify( this.loadedPlan ) === JSON.stringify( this.plan );else changed">
			<a style="background-color: floralwhite; color: gainsboro; "> Save </a><a (click)="toPlan()"> Back </a>
		</div>
		<ng-template #changed><div><a id="changed" (click)="save()"> Save </a><a (click)="cancel()"> Cancel </a></div></ng-template>
	</nav>
	<ul class="plans">
		<li *ngFor="let version of plan['versions']	| orderBy:'desc':'id'" [class.selected]="version.id === versionId">
			<a routerLinkActive="active" routerLink="/plan/{{plan['id']}}/update/version/{{version.id}}">
				<div class="badge"	> {{version.id}}		</div>
				<div				> {{version.labels}}	</div>
			</a>
			<div><button (click)="updateVersion(version.id)"><mat-icon> edit	</mat-icon></button></div>
			<div><button (click)="removeVersion(version.id)"><mat-icon> delete	</mat-icon></button></div>
		</li>
	</ul>
	<div style="margin: .5rem; ">
		<h3><label for="editPlan-name"> Plan name: </label><input type="text" id="editPlan-name" [(ngModel)]="plan['name']" placeholder="name"/></h3>
	</div>
	<hr/>
	<div>
		
		<router-outlet></router-outlet>
		
		<!-- app-version-detail versionId="plan['versions'].length"></app-version-detail -->
	
	</div>
</div>
